<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Random Nama, Username & Password Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --primary: #6c63ff;
      --secondary: #00d4a6;
      --danger: #ff4d4d;
      --bg: #0f1220;
      --card: #1b1f3b;
      --text: #ffffff;
      --muted: #b6b9ff;
    }

    body.light {
      --bg: #f4f6ff;
      --card: #ffffff;
      --text: #1b1f3b;
      --muted: #555;
    }

    * { box-sizing: border-box; font-family: Arial, Helvetica, sans-serif; }

    body {
      margin: 0;
      min-height: 100vh;
      background: var(--bg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 560px;
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,.3);
    }

    h1 { text-align: center; margin-bottom: 10px; }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .theme-btn {
      background: var(--secondary);
      border: none;
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
    }

    .box {
      background: rgba(255,255,255,.05);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 12px;
      position: relative;
    }

    .label { font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .value { font-size: 17px; word-break: break-all; padding-right: 50px; }

    .copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--secondary);
      border: none;
      padding: 4px 8px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 11px;
    }

    .strength {
      height: 6px;
      border-radius: 4px;
      background: #444;
      margin-top: 6px;
      overflow: hidden;
    }

    .strength span {
      display: block;
      height: 100%;
      width: 0;
      background: red;
      transition: .3s;
    }

    button.generate {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
    }

    .history { margin-top: 20px; }
    .history h2 { font-size: 16px; margin-bottom: 10px; }

    .history-item {
      background: rgba(255,255,255,.06);
      border-radius: 10px;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      gap: 10px;
    }

    .history-text { font-size: 12px; line-height: 1.4; }

    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--secondary);
      color: #000;
      padding: 10px 14px;
      border-radius: 10px;
      opacity: 0;
      transform: translateY(20px);
      transition: .3s;
      font-size: 13px;
    }

    .toast.show { opacity: 1; transform: translateY(0); }
  </style>
</head>
<body>

<div class="container">
  <div class="top-bar">
    <h1>ðŸŽ² Generator PRO</h1>
    <button class="theme-btn" onclick="toggleTheme()">Theme</button>
  </div>

  <div class="box">
    <div class="label">Nama Indonesia</div>
    <div class="value" id="nameOutput">-</div>
    <button class="copy-btn" onclick="copyText('nameOutput')">COPY</button>
  </div>

  <div class="box">
    <div class="label">Username</div>
    <div class="value" id="userOutput">-</div>
    <button class="copy-btn" onclick="copyText('userOutput')">COPY</button>
  </div>

  <div class="box">
    <div class="label">Password Kuat</div>
    <div class="value" id="passOutput">-</div>
    <button class="copy-btn" onclick="copyText('passOutput')">COPY</button>
    <div class="strength"><span id="strengthBar"></span></div>
  </div>

  <button class="generate" onclick="generate()">Generate</button>

  <div class="history">
    <h2>Riwayat (Max 10)</h2>
    <button class="theme-btn" onclick="exportHistory()">Export TXT</button>
    <div id="historyList"></div>
  </div>
</div>

<div class="toast" id="toast">Copied!</div>

<script>
  const firstNames = ['Adi','Budi','Dimas','Eko','Fajar','Galang','Indra','Rizki','Yoga','Bagus','Arif','Agus','Wahyu','Rama','Putra'];
  const lastNames = ['Saputra','Pratama','Wijaya','Santoso','Setiawan','Maulana','Ramadhan','Nugroho','Hidayat','Kurniawan'];

  let historyData = JSON.parse(localStorage.getItem('historyData')) || [];
  let theme = localStorage.getItem('theme') || 'dark';

  if (theme === 'light') document.body.classList.add('light');

  function random(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

  function generatePassword(len = 16) {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+';
    let p = '';
    for (let i = 0; i < len; i++) p += chars[Math.floor(Math.random() * chars.length)];
    return p;
  }

  function passwordStrength(p) {
    let score = 0;
    if (p.length >= 8) score++;
    if (/[A-Z]/.test(p)) score++;
    if (/[0-9]/.test(p)) score++;
    if (/[^A-Za-z0-9]/.test(p)) score++;
    return score;
  }

  function generate() {
    const name = random(firstNames) + ' ' + random(lastNames);
    const username = name.toLowerCase().replace(' ', '_') + Math.floor(Math.random()*100);
    const pass = generatePassword();

    nameOutput.innerText = name;
    userOutput.innerText = username;
    passOutput.innerText = pass;

    const strength = passwordStrength(pass);
    const bar = strengthBar;
    bar.style.width = (strength * 25) + '%';
    bar.style.background = strength < 2 ? 'red' : strength < 4 ? 'orange' : 'lime';

    historyData.unshift({ name, username, pass });
    if (historyData.length > 10) historyData.pop();
    localStorage.setItem('historyData', JSON.stringify(historyData));
    renderHistory();
  }

  function renderHistory() {
    historyList.innerHTML = '';
    historyData.forEach(h => {
      const div = document.createElement('div');
      div.className = 'history-item';
      div.innerHTML = `<div class='history-text'><b>${h.name}</b><br>${h.username}<br>${h.pass}</div>`;
      historyList.appendChild(div);
    });
  }

  function copyText(id) {
    navigator.clipboard.writeText(document.getElementById(id).innerText);
    showToast('Berhasil di-copy');
  }

  function showToast(msg) {
    const t = toast;
    t.innerText = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 2000);
  }

  function exportHistory() {
    let text = 'HISTORY GENERATOR\n\n';
    historyData.forEach((h,i)=>{
      text += `${i+1}. ${h.name} | ${h.username} | ${h.pass}\n`;
    });
    const blob = new Blob([text], {type:'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'history.txt';
    a.click();
  }

  function toggleTheme() {
    document.body.classList.toggle('light');
    localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
  }

  renderHistory();
</script>

</body>
</html>
